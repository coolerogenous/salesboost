<view class="container">
  <view class="header">
    <text class="greeting">ä½ å¥½ï¼Œ{{userInfo.username}}</text>
    <text class="points">å½“å‰ç§¯åˆ†: {{userInfo.total_points || 0}}</text>
  </view>

  <view class="task-list">
    <block wx:for="{{tasks}}" wx:key="id">
      <view class="task-card" bindtap="goToDetail" data-id="{{item.id}}">
        <view class="task-info">
          <view class="task-title">{{item.title}}</view>
          <view class="task-reward">+{{item.reward_points}} ç§¯åˆ†</view>
        </view>
        <view class="task-footer">
          <text class="deadline">æˆªæ­¢: {{item.end_time || 'é•¿æœŸ'}}</text>
          <view wx:if="{{item.submissionStatus === 'approved'}}" class="status-tag approved">å·²é€šè¿‡</view>
          <view wx:elif="{{item.submissionStatus === 'pending'}}" class="status-tag pending">å¾…å®¡æ ¸</view>
          <view wx:elif="{{item.submissionStatus === 'rejected'}}" class="status-tag rejected">è¢«é©³å›</view>
          <view wx:else class="status-btn">è®¤é¢†</view>
        </view>
      </view>
    </block>
    <view wx:if="{{tasks.length === 0}}" class="empty">
      <view class="empty-icon">ğŸ“‹</view>
      <view class="empty-text">æš‚æ— ä»»åŠ¡ï¼Œè¯·ç­‰å¾…ç®¡ç†å‘˜å‘å¸ƒ</view>
    </view>
  </view>
</view>
