<view class="container">
  <view class="rank-header">
    <view class="rank-title">ç§¯åˆ†æ’è¡Œæ¦œ</view>
    <view class="tab-bar">
      <view class="tab {{activeTab === 'total' ? 'active' : ''}}" bindtap="switchTab" data-tab="total">æ€»æ¦œ</view>
      <view class="tab {{activeTab === 'weekly' ? 'active' : ''}}" bindtap="switchTab" data-tab="weekly">å‘¨æ¦œ</view>
    </view>
  </view>

  <!-- æˆ‘çš„æ’å -->
  <view class="my-rank" wx:if="{{myRank > 0}}">
    <text>æˆ‘çš„æ’åï¼šç¬¬ {{myRank}} å</text>
  </view>

  <view class="rank-list">
    <block wx:for="{{rankingList}}" wx:key="staff_id">
      <view class="rank-item {{item.isMe ? 'is-me' : ''}}">
        <view class="rank-num {{index < 3 ? 'top-three' : ''}}">{{index + 1}}</view>
        <view class="user-info">
          <view class="name">{{item.username}}</view>
          <view class="staff-id">{{item.staff_id}}</view>
        </view>
        <view class="points">{{activeTab === 'weekly' ? item.weekly_points : item.total_points}} åˆ†</view>
      </view>
    </block>
    <view wx:if="{{rankingList.length === 0}}" class="empty">
      <view class="empty-icon">ğŸ†</view>
      <view class="empty-text">{{activeTab === 'weekly' ? 'æœ¬å‘¨æš‚æ— ç§¯åˆ†æ•°æ®' : 'æš‚æ— æ’è¡Œæ•°æ®'}}</view>
    </view>
  </view>
</view>
